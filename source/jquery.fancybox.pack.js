/*! fancyBox v2.0 fancyapps.com | fancyapps.com/fancybox/#license */
(function(p,m,d){var h=d(p),i=d(m),a=d.fancybox=function(b,c){a.open(b,c)},n=false,o=null;d.extend(a,{version:"2.0",defaults:{padding:15,margin:20,width:800,height:600,minWidth:200,minHeight:200,maxWidth:9999,maxHeight:9999,autoSize:true,fitToView:true,aspectRatio:false,topRatio:0.5,fixed:(!d.browser.msie||d.browser.version>6)&&d.support.boxModel,scrolling:"auto",wrapCSS:"fancybox-default",closeClick:true,closeBtn:true,arrows:true,mouseWheel:true,loop:true,ajax:{},keys:{next:[13,32,34,39,40],prev:[8,
33,37,38],close:[27]},autoPlay:false,playSpeed:3E3,index:0,type:null,url:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div>',image:'<img class="fancybox-image" src="{url}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0" '+(d.browser.msie?'allowtransparency="true""':"")+' scrolling="{scrolling}" src="{url}"></iframe>',swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{url}" /><embed src="{url}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',
error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-item fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-item fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:300,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:300,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",
nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:0,opacity:0.85,css:{cursor:"pointer","background-color":"rgba(0, 0, 0, 0.85)"},closeClick:true},title:{type:"float"}},onCancel:d.noop,beforeLoad:d.noop,afterLoad:d.noop,beforeShow:d.noop,afterShow:d.noop,beforeClose:d.noop,afterClose:d.noop},group:{},opts:{},coming:null,current:null,isOpen:false,isOpened:false,
wrap:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(b,c){d.isArray(b)||(b=[b]);if(b.length)a.close(true),d.each(b,function(a,c){typeof c!=="object"&&(b[a]={href:c})}),a.opts=d.extend(true,{},a.defaults,c),a.group=b,a._start(a.opts.index||0)},cancel:function(){if(!(a.coming&&false===a.trigger("onCancel"))&&(a.coming=null,a.hideLoading(),a.ajaxLoad&&a.ajaxLoad.abort(),a.ajaxLoad=null,a.imgPreload))a.imgPreload.onload=
a.imgPreload.onabort=a.imgPreload.onerror=null},close:function(b){a.cancel();if(a.current&&false!==a.trigger("beforeClose"))!a.isOpen||b&&b[0]===true?(d(".fancybox-wrap").stop().trigger("onReset").remove(),a._afterZoomOut()):(a.isOpen=a.isOpened=false,d(".fancybox-item").remove(),a.wrap.stop(true).removeClass("fancybox-opened"),a.inner.css("overflow","hidden"),a.transitions[a.current.closeMethod]())},play:function(b){var c=function(){clearTimeout(a.player.timer)},d=function(){c();if(a.current&&a.player.isActive)a.player.timer=
setTimeout(a.next,a.current.playSpeed)},e=function(){c();i.unbind(".player");a.player.isActive=false;a.trigger("onPlayEnd")};if(a.player.isActive||b&&b[0]===false)e();else if(a.current&&(a.current.loop||a.current.index<a.group.length-1))a.player.isActive=true,d(),i.bind({"onCancel.player onComplete.player onUpdate.player":d,"onClose.player":e,"onStart.player":c}),a.trigger("onPlayStart")},next:function(){a.current&&a.jumpto(a.current.index+1)},prev:function(){a.current&&a.jumpto(a.current.index-1)},
jumpto:function(b){a.current&&(b=parseInt(b,10),a.group.length>1&&a.current.loop&&(b>=a.group.length?b=0:b<0&&(b=a.group.length-1)),typeof a.group[b]!=="undefined"&&(a.cancel(),a._start(b)))},reposition:function(b){a.isOpen&&a.wrap.css(a._getPosition(b))},update:function(){a.isOpen&&(n||(o=setInterval(function(){if(n&&(n=false,clearTimeout(o),a.current)){if(a.current.autoSize)a.inner.height("auto"),a.current.height=a.inner.height();a._setDimension();a.current.canGrow&&a.inner.height("auto");a.reposition();
a.trigger("onUpdate")}},100)),n=true)},toggle:function(){if(a.isOpen)a.current.fitToView=!a.current.fitToView,a.update()},hideLoading:function(){d("#fancybox-loading").remove()},showLoading:function(){a.hideLoading();d('<div id="fancybox-loading"></div>').click(a.cancel).appendTo("body")},getViewport:function(){return{x:h.scrollLeft(),y:h.scrollTop(),w:h.width(),h:h.height()}},unbindEvents:function(){i.unbind(".fb");h.unbind(".fb")},bindEvents:function(){a.current&&(h.bind("resize.fb, orientationchange.fb",
a.update),a.current.keys&&i.bind("keydown.fb",function(b){d.inArray(b.target.tagName.toLowerCase,["input","textarea","select","button"])>-1||(d.inArray(b.keyCode,a.current.keys.close)>-1?(a.close(),b.preventDefault()):d.inArray(b.keyCode,a.current.keys.next)>-1?(a.next(),b.preventDefault()):d.inArray(b.keyCode,a.current.keys.prev)>-1&&(a.prev(),b.preventDefault()))}),d.fn.mousewheel&&a.current.mouseWheel&&a.group.length>1&&a.wrap.bind("mousewheel.fb",function(b,c){if(d(b.target).get(0).clientHeight===
0||d(b.target).get(0).scrollHeight===d(b.target).get(0).clientHeight)b.preventDefault(),a[c>0?"prev":"next"]()}))},trigger:function(b){var c,f=b==="onCancel"||b==="beforeLoad"?"coming":"current";if(a[f]){d.isFunction(a[f][b])&&(c=a[f][b].apply(a[f],Array.prototype.slice.call(arguments,1)));if(c===false)return false;a[f].helpers&&d.each(a[f].helpers,function(c,f){if(f&&typeof a.helpers[c]!=="undefined"&&d.isFunction(a.helpers[c][b]))a.helpers[c][b](f)});d.event.trigger(b+".fb")}},isImage:function(a){return a&&
a.match(/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i)},isSWF:function(a){return a&&a.match(/\.(swf)(.*)?$/i)},_start:function(b){var c=a.group[b]||null,f=d.extend(true,{},a.opts,c&&d.metadata?d(c).metadata():{}),e=false,g=false;f.index=b;f.element=c;if(typeof f.margin==="number")f.margin=[f.margin,f.margin,f.margin,f.margin];a.coming=f;if(false===a.trigger("beforeLoad"))a.coming=null;else{if(a.coming.content)c=a.coming.content;if(typeof c==="object")e=c.nodeType||c instanceof d,a.coming.url=d(c).attr("href")||
null;if(!a.coming.type){if(a.coming.url&&(e&&(g=d(c).data("fancybox-type"),g||(g=(g=c.className.match(/fancybox\.(\w+)/))?g[1]:false)),g?a.coming.type=g:a.isImage(a.coming.url)?a.coming.type="image":a.isSWF(a.coming.url)?a.coming.type="swf":a.coming.url.match(/^#/)?a.coming.type="inline":a.coming.content=a.coming.url,a.coming.type==="inline"))a.coming.content=d(a.coming.url);if(!a.coming.type)if(e)a.coming.type="inline",a.coming.content=c;else if(a.coming.content)a.coming.type="html"}if(a.coming.type===
"image")a._loadImage();else if(a.coming.type==="ajax")a._loadAjax();else if(a.coming.type)a._afterLoad();else return a._error()}},_error:function(){a.coming.type="html";a.coming.minHeight=0;a.coming.autoSize=true;a.coming.content=a.coming.tpl.error;a._afterLoad()},_loadImage:function(){a.imgPreload=new Image;a.imgPreload.onload=function(){this.onload=this.onerror=null;a.coming.width=this.width;a.coming.height=this.height;a._afterLoad()};a.imgPreload.onerror=function(){this.onload=this.onerror=null;
a._error()};a.imgPreload.src=a.coming.url;a.imgPreload.complete||a.showLoading()},_loadAjax:function(){a.showLoading();a.ajaxLoad=d.ajax(d.extend({},a.coming.ajax,{url:a.coming.url,error:function(b,c,d){c!=="abort"&&b.status>0?(a.coming.content=d,a._error()):a.hideLoading()},success:function(b,c){if(c==="success")a.coming.content=b,a._afterLoad()}}))},_afterLoad:function(){a.hideLoading();if(a.current&&false===a.trigger("afterLoad"))a.coming=false;else if(a.isOpened?(d(".fancybox-item").remove(),
a.wrap.stop(true).removeClass("fancybox-opened"),a.transitions[a.current.prevMethod]()):d(".fancybox-wrap").stop().trigger("onReset").remove(),a.isOpen=false,a.current=a.coming,a.coming=false,a.wrap=d(a.current.tpl.wrap).addClass(a.current.wrapCSS).appendTo("body"),a.outer=d(".fancybox-outer",a.wrap).css("padding",a.current.padding+"px"),a.inner=d(".fancybox-inner",a.wrap),a._setContent(),a.unbindEvents(),a.bindEvents(),a.trigger("beforeShow"),a._setDimension(),a.isOpened)a.transitions[a.current.nextMethod]();
else a.transitions[a.current.openMethod]()},_setContent:function(){var b,c;switch(a.current.type){case "inline":case "ajax":case "html":a.current.type==="inline"?(b=a.current.content.show().detach(),b.parent().hasClass("fancybox-inner")&&b.parents(".fancybox-wrap").trigger("onReset").remove(),d(a.wrap).bind("onReset",function(){b.appendTo("body").hide()})):b=a.current.content;if(a.current.autoSize){c=d('<div class="fancybox-tmp"></div>').appendTo(d("body")).append(b);a.current.width=c.outerWidth();
a.current.height=c.outerHeight(true);c.width(a.current.width);if(c.height()>a.current.height)c.width(++a.current.width),a.current.width=c.outerWidth(),a.current.height=c.height();b=c.children().detach();c.remove()}break;case "image":b=a.current.tpl.image.replace("{url}",a.current.url);a.current.aspectRatio=true;break;case "swf":b=a.current.tpl.swf.replace(/\{width\}/g,a.current.width).replace(/\{height\}/g,a.current.height).replace(/\{url\}/g,a.current.url);break;case "iframe":b=a.current.tpl.iframe.replace("{url}",
a.current.url).replace("{scrolling}",a.current.scrolling).replace("{rnd}",(new Date).getTime())}if(d.inArray(a.current.type,["image","swf","iframe"])>-1)a.current.autoSize=false,a.current.scrolling=false;a.inner.append(b)},_setDimension:function(){var b=a.getViewport(),c=a.current.margin,f=a.current.padding*2,e=a.current.width+f,g=a.current.height+f,j=a.current.width/a.current.height,l=a.current.maxWidth,k=a.current.maxHeight,h=a.current.minWidth,i=a.current.minHeight;b.w-=c[1]+c[3];b.h-=c[0]+c[2];
e.toString().indexOf("%")>-1&&(e=b.w*parseFloat(e)/100);g.toString().indexOf("%")>-1&&(g=b.h*parseFloat(g)/100);a.current.fitToView&&(l=Math.min(b.w,l),k=Math.min(b.h,k));l=Math.max(h,l);k=Math.max(i,k);a.current.aspectRatio?(e>l&&(e=l,g=(e-f)/j+f),g>k&&(g=k,e=(g-f)*j+f),e<h&&(e=h,g=(e-f)/j+f),g<i&&(g=i,e=(g-f)*j+f)):(e=Math.max(h,Math.min(e,l)),g=Math.max(i,Math.min(g,k)));e=Math.round(e);g=Math.round(g);d(a.wrap.add(a.outer).add(a.inner)).width("auto").height("auto");a.inner.width(e-f).height(g-
f);a.wrap.width(e);if(e>l||a.wrap.height()>k)for(;(e>l||a.wrap.height()>k)&&e>h&&a.wrap.height()>i;)g-=10,a.current.aspectRatio?(e=Math.round((g-f)*j+f),e<h&&(e=h,g=(e-f)/j+f)):e-=10,a.inner.width(e-f).height(g-f),a.wrap.width(e);a.current.dim={width:e,height:a.wrap.height()};a.current.canGrow=a.current.autoSize&&g>i&&g<k;a.current.canShrink=false;a.current.canExpand=false;if(e-f<a.current.width||g-f<a.current.height)a.current.canExpand=true;else if((e>b.w||a.current.dim.height>b.h)&&e>h&&g>i)a.current.canShrink=
true},_getPosition:function(b){var c=a.getViewport(),d=a.current.margin,e=a.wrap.width()+d[1]+d[3],g=a.wrap.height()+d[0]+d[2],j={position:"absolute",top:d[0]+c.y,left:d[3]+c.x};if(a.current.fixed&&(!b||b[0]===false)&&g<=c.h&&e<=c.w)j={position:"fixed",top:d[0],left:d[3]};j.top=Math.ceil(Math.max(j.top,j.top+(c.h-g)*a.current.topRatio))+"px";j.left=Math.ceil(Math.max(j.left,j.left+(c.w-e)*0.5))+"px";return j},_afterZoomIn:function(){a.isOpen=a.isOpened=true;a.wrap.addClass("fancybox-opened").css("overflow",
"visible");a.update();a.inner.css("overflow",a.current.scrolling==="auto"?"auto":a.current.scrolling==="yes"?"scroll":"hidden");a.current.closeClick&&a.inner.bind("click.fb",a.close);a.current.closeBtn&&d(a.current.tpl.closeBtn).appendTo(a.wrap).bind("click.fb",a.close);a.current.arrows&&a.group.length>1&&((a.current.loop||a.current.index>0)&&d(a.current.tpl.prev).appendTo(a.wrap).bind("click.fb",a.prev),(a.current.loop||a.current.index<a.group.length-1)&&d(a.current.tpl.next).appendTo(a.wrap).bind("click.fb",
a.next));a.trigger("afterShow");if(a.opts.autoPlay&&!a.player.isActive)a.opts.autoPlay=false,a.play()},_afterZoomOut:function(){a.unbindEvents();a.trigger("afterClose");a.wrap.trigger("onReset").remove();d.extend(a,{group:{},opts:{},current:null,isOpened:false,isOpen:false,wrap:null,outer:null,inner:null})}});a.transitions={getOrigPosition:function(){var b=a.current.element,c={},f=50,e=50,g;b&&b.nodeName&&d(b).is(":visible")?(g=d(b).find("img:first"),g.length?(c=g.offset(),f=g.outerWidth(),e=g.outerHeight()):
c=d(b).offset()):(b=a.getViewport(),c.top=b.y+(b.h-e)*0.5,c.left=b.x+(b.w-f)*0.5);return c={top:Math.ceil(c.top)+"px",left:Math.ceil(c.left)+"px",width:Math.ceil(f)+"px",height:Math.ceil(e)+"px"}},step:function(b,c){if(c.prop==="width"||c.prop==="height"){var d=c.end>c.start?(b-c.start)/(c.end-c.start):(b-c.end)/(c.start-c.end);c.prop==="height"?(a.inner.height(Math.ceil(b-a.current.padding*2-a.innerSpace*d)),a.outer.height(Math.ceil(b-a.current.padding*2-a.outerSpace*d))):c.prop==="width"&&(a.outer.width(Math.ceil(b-
a.current.padding*2)),a.inner.width(Math.ceil(b-a.current.padding*2)))}},zoomIn:function(){var b,c;if(a.current.openEffect==="elastic"){c=d.extend({},a.current.dim,a._getPosition(true));delete c.position;a.innerSpace=a.wrap.height()-a.inner.height()-a.current.padding*2;a.outerSpace=a.wrap.height()-a.outer.height()-a.current.padding*2;b=this.getOrigPosition();if(a.current.openOpacity)b.opacity=0,c.opacity=1;a.wrap.css(b).animate(c,{duration:a.current.openSpeed,easing:a.current.openEasing,step:this.step,
complete:a._afterZoomIn})}else a.wrap.css(d.extend({},a.current.dim,a._getPosition())),a.current.openEffect==="fade"?a.wrap.hide().fadeIn(a.current.openSpeed,a._afterZoomIn):a._afterZoomIn()},zoomOut:function(){var b;if(a.current.closeEffect==="elastic"){a.wrap.css("position")==="fixed"&&a.wrap.css(a._getPosition(true));b=this.getOrigPosition();if(a.current.closeOpacity)b.opacity=0;a.innerSpace=a.wrap.height()-a.inner.height()-a.current.padding*2;a.outerSpace=a.wrap.height()-a.outer.height()-a.current.padding*
2;a.wrap.animate(b,{duration:a.current.closeSpeed,easing:a.current.closeEasing,step:this.step,complete:a._afterZoomOut})}else a.wrap.fadeOut(a.current.closeEffect==="fade"?a.current.Speed:0,a._afterZoomOut)},changeIn:function(){var b;a.current.nextEffect==="elastic"?(b=a._getPosition(true),b.opacity=0,b.top=parseInt(b.top,10)-200+"px",a.wrap.css(b).animate({opacity:1,top:"+=200px"},{duration:a.current.nextSpeed,complete:a._afterZoomIn})):(a.wrap.css(a._getPosition()),a.current.nextEffect==="fade"?
a.wrap.hide().fadeIn(a.current.nextSpeed,a._afterZoomIn):a._afterZoomIn())},changeOut:function(){function b(){d(this).trigger("onReset").remove()}a.wrap.removeClass("fancybox-opened");a.current.prevEffect==="elastic"?a.wrap.animate({opacity:0,top:"+=200px"},{duration:a.current.prevSpeed,complete:b}):a.wrap.fadeOut(a.current.prevEffect==="fade"?a.current.prevSpeed:0,b)}};a.helpers.overlay={overlay:null,update:function(){var a,c;this.overlay.width(0).height(0);d.browser.msie?(a=Math.max(m.documentElement.scrollWidth,
m.body.scrollWidth),c=Math.max(m.documentElement.offsetWidth,m.body.offsetWidth),a=a<c?h.width():a):a=i.width();this.overlay.width(a).height(i.height())},beforeShow:function(b){if(!this.overlay)this.overlay=d('<div id="fancybox-overlay"></div>').css(b.css||{background:"black"}).appendTo("body"),b.closeClick&&this.overlay.bind("click.fb",a.close),h.bind("resize.fb",d.proxy(this.update,this)),this.update(),this.overlay.fadeTo(b.speedIn||"fast",b.opacity||1)},onUpdate:function(){this.update()},afterClose:function(a){this.overlay&&
this.overlay.fadeOut(a.speedOut||"fast",function(){d(this).remove()});this.overlay=null}};a.helpers.title={beforeShow:function(b){var c;if((c=a.current.title||a.current.element.title||"")&&c.length)c=d('<div class="fancybox-title fancybox-title-'+b.type+'-wrap">'+c+"</div>").appendTo("body"),b.type==="float"&&(c.width(c.width()),c.wrapInner('<span class="child"></span>'),a.current.margin[2]+=Math.abs(parseInt(c.css("margin-bottom"),10))),c.appendTo(b.type==="over"?a.inner:b.type==="outside"?a.wrap:
a.outer)}};d.fn.fancybox=function(b){function c(b){var c=[];b.preventDefault();this.rel&&this.rel!==""&&this.rel!=="nofollow"&&(c=e.length?d(e).filter('[rel="'+this.rel+'"]'):d('[rel="'+this.rel+'"]'));c.length?(f.index=c.index(this),a(c.get(),f)):a(this,f);return false}var f=b||{},e=this.selector||"";e.length?i.undelegate(e,"click.fb-start").delegate(e,"click.fb-start",c):d(this).unbind("click.fb-start").bind("click.fb-start",c)}})(window,document,jQuery);