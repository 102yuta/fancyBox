/*! fancyBox v2.0.5 fancyapps.com | fancyapps.com/fancybox/#license */
(function(s,l,d,t){var m=d(s),q=d(l),a=d.fancybox=function(){a.open.apply(this,arguments)},u=!1,k=l.createTouch!==t,o=function(a){return"string"===d.type(a)},n=function(b,c){c&&o(b)&&0<b.indexOf("%")&&(b=a.getViewport()[c]/100*parseInt(b,10));return Math.round(b)+"px"};d.extend(a,{version:"2.0.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoResize:!k,autoCenter:!k,fitToView:!0,aspectRatio:!1,topRatio:0.5,fixed:!1,scrolling:"auto",
wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0"'+
(d.browser.msie?' allowtransparency="true"':"")+"></iframe>",swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',
closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-nav fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:300,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:300,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",
prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:0.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}}},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(b,c){a.close(!0);b&&!d.isArray(b)&&(b=b instanceof d?d(b).get():[b]);a.isActive=!0;a.opts=d.extend(!0,{},a.defaults,c);d.isPlainObject(c)&&c.keys!==t&&(a.opts.keys=c.keys?
d.extend({},a.defaults.keys,c.keys):!1);a.group=b;a._start(a.opts.index||0)},cancel:function(){a.coming&&!1===a.trigger("onCancel")||(a.coming=null,a.hideLoading(),a.ajaxLoad&&a.ajaxLoad.abort(),a.ajaxLoad=null,a.imgPreload&&(a.imgPreload.onload=a.imgPreload.onabort=a.imgPreload.onerror=null))},close:function(b){a.cancel();a.current&&!1!==a.trigger("beforeClose")&&(a.unbindEvents(),!a.isOpen||b&&!0===b[0]?(d(".fancybox-wrap").stop().trigger("onReset").remove(),a._afterZoomOut()):(a.isOpen=a.isOpened=
!1,d(".fancybox-item, .fancybox-nav").remove(),a.wrap.stop(!0).removeClass("fancybox-opened"),a.inner.css("overflow","hidden"),a.transitions[a.current.closeMethod]()))},play:function(b){var c=function(){clearTimeout(a.player.timer)},f=function(){c();a.current&&a.player.isActive&&(a.player.timer=setTimeout(a.next,a.current.playSpeed))},g=function(){c();d("body").unbind(".player");a.player.isActive=!1;a.trigger("onPlayEnd")};if(a.player.isActive||b&&!1===b[0])g();else if(a.current&&(a.current.loop||
a.current.index<a.group.length-1))a.player.isActive=!0,d("body").bind({"afterShow.player onUpdate.player":f,"onCancel.player beforeClose.player":g,"beforeLoad.player":c}),f(),a.trigger("onPlayStart")},next:function(){a.current&&a.jumpto(a.current.index+1)},prev:function(){a.current&&a.jumpto(a.current.index-1)},jumpto:function(b){a.current&&(b=parseInt(b,10),1<a.group.length&&a.current.loop&&(b>=a.group.length?b=0:0>b&&(b=a.group.length-1)),a.group[b]!==t&&(a.cancel(),a._start(b)))},reposition:function(b,
c){var f;a.isOpen&&(f=a._getPosition(c),b&&"scroll"===b.type?(delete f.position,a.wrap.stop(!0,!0).animate(f,200)):a.wrap.css(f))},update:function(b){a.isOpen&&(u||setTimeout(function(){var c=a.current,f=!b||b&&"orientationchange"===b.type;if(u&&(u=!1,c)){if(!b||"scroll"!==b.type||f)c.autoSize&&"iframe"!==c.type&&(a.inner.height("auto"),c.height=a.inner.height()),(c.autoResize||f)&&a._setDimension(),c.canGrow&&"iframe"!==c.type&&a.inner.height("auto");(c.autoCenter||f)&&a.reposition(b);a.trigger("onUpdate")}},
200),u=!0)},toggle:function(){a.isOpen&&(a.current.fitToView=!a.current.fitToView,a.update())},hideLoading:function(){q.unbind("keypress.fb");d("#fancybox-loading").remove()},showLoading:function(){a.hideLoading();q.bind("keypress.fb",function(b){27===b.keyCode&&(b.preventDefault(),a.cancel())});d('<div id="fancybox-loading"><div></div></div>').click(a.cancel).appendTo("body")},getViewport:function(){return{x:m.scrollLeft(),y:m.scrollTop(),w:k&&s.innerWidth?s.innerWidth:m.width(),h:k&&s.innerHeight?
s.innerHeight:m.height()}},unbindEvents:function(){a.wrap&&a.wrap.unbind(".fb");q.unbind(".fb");m.unbind(".fb")},bindEvents:function(){var b=a.current,c=b.keys;b&&(m.bind("resize.fb orientationchange.fb"+(b.autoCenter&&!b.fixed?" scroll.fb":""),a.update),c&&q.bind("keydown.fb",function(b){var g;g=b.target||b.srcElement;if(!b.ctrlKey&&!b.altKey&&!b.shiftKey&&!b.metaKey&&(!g||!g.type&&!d(g).is("[contenteditable]")))g=b.keyCode,-1<d.inArray(g,c.close)?(a.close(),b.preventDefault()):-1<d.inArray(g,c.next)?
(a.next(),b.preventDefault()):-1<d.inArray(g,c.prev)&&(a.prev(),b.preventDefault())}),d.fn.mousewheel&&b.mouseWheel&&1<a.group.length&&a.wrap.bind("mousewheel.fb",function(b,c){var d=b.target||null;if(0!==c&&(!d||0===d.clientHeight||d.scrollHeight===d.clientHeight&&d.scrollWidth===d.clientWidth))b.preventDefault(),a[0<c?"prev":"next"]()}))},trigger:function(b,c){var f;if(c=c||a[-1<d.inArray(b,["onCancel","beforeLoad","afterLoad"])?"coming":"current"]){d.isFunction(c[b])&&(f=c[b].apply(c,Array.prototype.slice.call(arguments,
1)));if(!1===f)return!1;c.helpers&&d.each(c.helpers,function(f,e){if(e&&d.isPlainObject(a.helpers[f])&&d.isFunction(a.helpers[f][b]))a.helpers[f][b](e,c)});d.event.trigger(b+".fb")}},isImage:function(a){return o(a)&&a.match(/\.(jpe?g|gif|png|bmp)((\?|#).*)?$/i)},isSWF:function(a){return o(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(b){var c={},f=a.group[b]||null,g,e,i;if(f&&(f.nodeType||f instanceof d))g=!0,d.metadata&&(c=d(f).metadata());c=d.extend(!0,{},a.opts,{index:b,element:f},d.isPlainObject(f)?
f:c);d.each(["href","title","content","type"],function(b,e){c[e]=a.opts[e]||g&&d(f).attr(e)||c[e]||null});"number"===typeof c.margin&&(c.margin=[c.margin,c.margin,c.margin,c.margin]);c.modal&&d.extend(!0,c,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}});a.coming=c;if(!1===a.trigger("beforeLoad"))a.coming=null;else{e=c.type;b=c.href||f;e||(g&&(e=d(f).data("fancybox-type"),e||(e=(e=f.className.match(/fancybox\.(\w+)/))?
e[1]:null)),!e&&o(b)&&(a.isImage(b)?e="image":a.isSWF(b)?e="swf":b.match(/^#/)&&(e="inline")),e||(e=g?"inline":"html"),c.type=e);if("inline"===e||"html"===e){if(c.content||(c.content="inline"===e?d(o(b)?b.replace(/.*(?=#[^\s]+$)/,""):b):f),!c.content||!c.content.length)e=null}else b||(e=null);"ajax"===e&&o(b)&&(i=b.split(/\s+/,2),b=i.shift(),c.selector=i.shift());c.href=b;c.group=a.group;c.isDom=g;switch(e){case "image":a._loadImage();break;case "ajax":a._loadAjax();break;case "inline":case "iframe":case "swf":case "html":a._afterLoad();
break;default:a._error("type")}}},_error:function(b){a.hideLoading();d.extend(a.coming,{type:"html",autoSize:!0,minHeight:0,hasError:b,content:a.coming.tpl.error});a._afterLoad()},_loadImage:function(){var b=a.imgPreload=new Image;b.onload=function(){this.onload=this.onerror=null;a.coming.width=this.width;a.coming.height=this.height;a._afterLoad()};b.onerror=function(){this.onload=this.onerror=null;a._error("image")};b.src=a.coming.href;(b.complete===t||!b.complete)&&a.showLoading()},_loadAjax:function(){a.showLoading();
a.ajaxLoad=d.ajax(d.extend({},a.coming.ajax,{url:a.coming.href,error:function(b,c){a.coming&&"abort"!==c?a._error("ajax",b):a.hideLoading()},success:function(b,c){"success"===c&&(a.coming.content=b,a._afterLoad())}}))},_preloadImages:function(){var b=a.group,c=a.current,f=b.length,g,e,i,h=Math.min(c.preload,f-1);if(c.preload&&!(2>b.length))for(i=1;i<=h;i+=1)if(g=b[(c.index+i)%f],e=g.href||d(g).attr("href")||g,"image"===g.type||a.isImage(e))(new Image).src=e},_afterLoad:function(){a.hideLoading();
!a.coming||!1===a.trigger("afterLoad",a.current)?a.coming=!1:(a.isOpened?(d(".fancybox-item, .fancybox-nav").remove(),a.wrap.stop(!0).removeClass("fancybox-opened"),a.inner.css("overflow","hidden"),a.transitions[a.current.prevMethod]()):(d(".fancybox-wrap").stop().trigger("onReset").remove(),a.trigger("afterClose")),a.unbindEvents(),a.isOpen=!1,a.current=a.coming,a.wrap=d(a.current.tpl.wrap).addClass("fancybox-"+(k?"mobile":"desktop")+" fancybox-type-"+a.current.type+" fancybox-tmp "+a.current.wrapCSS).appendTo("body"),
a.skin=d(".fancybox-skin",a.wrap).css("padding",n(a.current.padding)),a.outer=d(".fancybox-outer",a.wrap),a.inner=d(".fancybox-inner",a.wrap),a._setContent())},_setContent:function(){var b=a.current,c=b.content,f=b.type,g=b.minWidth,e=b.minHeight,i=b.maxWidth,h=b.maxHeight;switch(f){case "inline":case "ajax":case "html":b.selector?c=d("<div>").html(c).find(b.selector):c instanceof d&&(c.parent().hasClass("fancybox-inner")&&c.parents(".fancybox-wrap").unbind("onReset"),c=c.show().detach(),d(a.wrap).bind("onReset",
function(){c.appendTo("body").hide()}));b.autoSize&&(g=d('<div class="fancybox-wrap '+a.current.wrapCSS+' fancybox-tmp"></div>').appendTo("body").css({minWidth:n(g,"w"),minHeight:n(e,"h"),maxWidth:n(i,"w"),maxHeight:n(h,"h")}).append(c),b.width=g.width(),b.height=g.height(),g.width(a.current.width),g.height()>b.height&&(g.width(b.width+1),b.width=g.width(),b.height=g.height()),c=g.contents().detach(),g.remove());break;case "image":c=b.tpl.image.replace("{href}",b.href);b.aspectRatio=!0;break;case "swf":c=
b.tpl.swf.replace(/\{width\}/g,b.width).replace(/\{height\}/g,b.height).replace(/\{href\}/g,b.href);break;case "iframe":c=d(b.tpl.iframe.replace("{rnd}",(new Date).getTime())).attr("scrolling",b.scrolling).attr("src",b.href),b.scrolling=k?"scroll":"auto"}if("image"===f||"swf"===f)b.autoSize=!1,b.scrolling="visible";"iframe"===f&&b.autoSize?(a.showLoading(),a._setDimension(),a.inner.css("overflow",b.scrolling),c.bind({onCancel:function(){d(this).unbind();a._afterZoomOut()},load:function(){a.hideLoading();
try{this.contentWindow.document.location&&(a.current.height=d(this).contents().find("body").height())}catch(b){a.current.autoSize=!1}a[a.isOpen?"_afterZoomIn":"_beforeShow"]()}}).appendTo(a.inner)):(a.inner.append(c),a._beforeShow())},_beforeShow:function(){a.coming=null;a.trigger("beforeShow");a._setDimension();a.wrap.hide().removeClass("fancybox-tmp");a.bindEvents();a._preloadImages();a.transitions[a.isOpened?a.current.nextMethod:a.current.openMethod]()},_setDimension:function(){var b=a.wrap,c=
a.inner,f=a.current,g=a.getViewport(),e=f.margin,i=2*f.padding,h=f.width,j=f.height,r=f.maxWidth+i,k=f.maxHeight+i,l=f.minWidth+i,m=f.minHeight+i,p;g.w-=e[1]+e[3];g.h-=e[0]+e[2];o(h)&&0<h.indexOf("%")&&(h=(g.w-i)*parseFloat(h)/100);o(j)&&0<j.indexOf("%")&&(j=(g.h-i)*parseFloat(j)/100);e=h/j;h+=i;j+=i;f.fitToView&&(r=Math.min(g.w,r),k=Math.min(g.h,k));if(f.aspectRatio){if(h>r&&(h=r,j=(h-i)/e+i),j>k&&(j=k,h=(j-i)*e+i),h<l&&(h=l,j=(h-i)/e+i),j<m)j=m,h=(j-i)*e+i}else h=Math.max(l,Math.min(h,r)),j=Math.max(m,
Math.min(j,k));h=Math.round(h);j=Math.round(j);d(b.add(c)).width("auto").height("auto");c.width(h-i).height(j-i);b.width(h);p=b.height();if(h>r||p>k)for(;(h>r||p>k)&&h>l&&p>m;)j-=10,f.aspectRatio?(h=Math.round((j-i)*e+i),h<l&&(h=l,j=(h-i)/e+i)):h-=10,c.width(h-i).height(j-i),b.width(h),p=b.height();f.dim={width:n(h),height:n(p)};f.canGrow=f.autoSize&&j>m&&j<k;f.canShrink=!1;f.canExpand=!1;if(h-i<f.width||j-i<f.height)f.canExpand=!0;else if((h>g.w||p>g.h)&&h>l&&j>m)f.canShrink=!0;a.innerSpace=p-i-
c.height()},_getPosition:function(b){var c=a.current,f=a.getViewport(),d=c.margin,e=a.wrap.width()+d[1]+d[3],i=a.wrap.height()+d[0]+d[2],h={position:"absolute",top:d[0]+f.y,left:d[3]+f.x};c.autoCenter&&c.fixed&&!b&&i<=f.h&&e<=f.w&&(h={position:"fixed",top:d[0],left:d[3]});h.top=n(Math.max(h.top,h.top+(f.h-i)*c.topRatio));h.left=n(Math.max(h.left,h.left+0.5*(f.w-e)));return h},_afterZoomIn:function(){var b=a.current,c=b?b.scrolling:"no";if(b&&(a.isOpen=a.isOpened=!0,a.wrap.addClass("fancybox-opened"),
a.inner.css("overflow","yes"===c?"scroll":"no"===c?"hidden":c),a.trigger("afterShow"),a.update(),(b.closeClick||b.nextClick)&&a.inner.css("cursor","pointer").bind("click.fb",function(c){if(!d(c.target).is("a")&&!d(c.target).parent().is("a"))a[b.closeClick?"close":"next"]()}),b.closeBtn&&d(b.tpl.closeBtn).appendTo(a.skin).bind("click.fb",a.close),b.arrows&&1<a.group.length&&((b.loop||0<b.index)&&d(b.tpl.prev).appendTo(a.outer).bind("click.fb",a.prev),(b.loop||b.index<a.group.length-1)&&d(b.tpl.next).appendTo(a.outer).bind("click.fb",
a.next)),a.opts.autoPlay&&!a.player.isActive))a.opts.autoPlay=!1,a.play()},_afterZoomOut:function(){var b=a.current;a.wrap.trigger("onReset").remove();d.extend(a,{group:{},opts:{},current:null,isActive:!1,isOpened:!1,isOpen:!1,wrap:null,skin:null,outer:null,inner:null});a.trigger("afterClose",b)}});a.transitions={getOrigPosition:function(){var b=a.current,c=b.element,f=b.padding,g=d(b.orig),e={},i=50,h=50;!g.length&&b.isDom&&d(c).is(":visible")&&(g=d(c).find("img:first"),g.length||(g=d(c)));g.length?
(e=g.offset(),g.is("img")&&(i=g.outerWidth(),h=g.outerHeight())):(b=a.getViewport(),e.top=b.y+0.5*(b.h-h),e.left=b.x+0.5*(b.w-i));return e={top:n(e.top-f),left:n(e.left-f),width:n(i+2*f),height:n(h+2*f)}},step:function(b,c){var d=c.prop,g,e;if("width"===d||"height"===d)g=Math.ceil(b-2*a.current.padding),"height"===d&&(e=(b-c.start)/(c.end-c.start),c.start>c.end&&(e=1-e),g-=a.innerSpace*e),a.inner[d](g)},zoomIn:function(){var b=a.wrap,c=a.current,f=c.openEffect,g="elastic"===f,e=d.extend({},c.dim,
a._getPosition(g)),i=d.extend({opacity:1},e);delete i.position;g?(e=this.getOrigPosition(),c.openOpacity&&(e.opacity=0),a.outer.add(a.inner).width("auto").height("auto")):"fade"===f&&(e.opacity=0);b.css(e).show().animate(i,{duration:"none"===f?0:c.openSpeed,easing:c.openEasing,step:g?this.step:null,complete:a._afterZoomIn})},zoomOut:function(){var b=a.wrap,c=a.current,d=c.openEffect,g="elastic"===d,e={opacity:0};g&&("fixed"===b.css("position")&&b.css(a._getPosition(!0)),e=this.getOrigPosition(),c.closeOpacity&&
(e.opacity=0));b.animate(e,{duration:"none"===d?0:c.closeSpeed,easing:c.closeEasing,step:g?this.step:null,complete:a._afterZoomOut})},changeIn:function(){var b=a.wrap,c=a.current,d=c.nextEffect,g="elastic"===d,e=a._getPosition(g),i={opacity:1};e.opacity=0;g&&(e.top=n(parseInt(e.top,10)-200),i.top="+=200px");b.css(e).show().animate(i,{duration:"none"===d?0:c.nextSpeed,easing:c.nextEasing,complete:function(){setTimeout(a._afterZoomIn,1)}})},changeOut:function(){var b=a.wrap,c=a.current,f=c.prevEffect,
g={opacity:0};b.removeClass("fancybox-opened");"elastic"===f&&(g.top="+=200px");b.animate(g,{duration:"none"===f?0:c.prevSpeed,easing:c.prevEasing,complete:function(){d(this).trigger("onReset").remove()}})}};a.helpers.overlay={overlay:null,update:function(){var a,c;this.overlay.width("100%").height("100%");d.browser.msie||k?(a=Math.max(l.documentElement.scrollWidth,l.body.scrollWidth),c=Math.max(l.documentElement.offsetWidth,l.body.offsetWidth),a=a<c?m.width():a):a=q.width();this.overlay.width(a).height(q.height())},
beforeShow:function(b){this.overlay||(b=d.extend(!0,{},a.defaults.helpers.overlay,b),this.overlay=d('<div id="fancybox-overlay"></div>').css(b.css).appendTo("body"),b.closeClick&&this.overlay.bind("click.fb",a.close),a.current.fixed&&!k?this.overlay.addClass("overlay-fixed"):(this.update(),this.onUpdate=function(){this.update()}),this.overlay.fadeTo(b.speedIn,b.opacity))},afterClose:function(a){this.overlay&&this.overlay.fadeOut(a.speedOut||0,function(){d(this).remove()});this.overlay=null}};a.helpers.title=
{beforeShow:function(b){var c;if(c=a.current.title)c=d('<div class="fancybox-title fancybox-title-'+b.type+'-wrap">'+c+"</div>").appendTo("body"),"float"===b.type&&(c.width(c.width()),c.wrapInner('<span class="child"></span>'),a.current.margin[2]+=Math.abs(parseInt(c.css("margin-bottom"),10))),c.appendTo("over"===b.type?a.inner:"outside"===b.type?a.wrap:a.skin)}};d.fn.fancybox=function(b){var c=d(this),f=this.selector||"",g,e=function(e){var h=this,j=g,k;!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&
!d(h).is(".fancybox-wrap")&&(e.preventDefault(),e=b.groupAttr||"data-fancybox-group",k=d(h).attr(e),k||(e="rel",k=h[e]),k&&""!==k&&"nofollow"!==k&&(h=f.length?d(f):c,h=h.filter("["+e+'="'+k+'"]'),j=h.index(this)),b.index=j,a.open(h,b))},b=b||{};g=b.index||0;f?q.undelegate(f,"click.fb-start").delegate(f,"click.fb-start",e):c.unbind("click.fb-start").bind("click.fb-start",e);return this};d(l).ready(function(){a.defaults.fixed=d.support.fixedPosition||!(d.browser.msie&&6>=d.browser.version)&&!k})})(window,
document,jQuery);